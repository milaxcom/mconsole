var Module=function(a){this.module=a,$(this.module).on("click",".show-module-info",this.toggleInfo.bind(this)),$(this.module).on("click",".install-module, .uninstall-module, .extend-module",this.toggleModuleInstallation.bind(this))};Module.prototype.toggleInfo=function(){var a=$(this.module).find(".module-info");a.hasClass("hide")?a.removeClass("hide"):a.addClass("hide")},Module.prototype.toggleModuleInstallation=function(a){function l(){d&&(d.modal("hide"),setTimeout(1e3,d.remove)),n.addClass("disabled"),s.addClass("disabled").html('<i class="fa fa-spin fa-spinner"></i> '+e),$.get("/mconsole/modules/"+t+"/"+o,function(a){return location.reload()})}var t=$(this.module).data("identifier");if($(a.target).hasClass("fa"))var s=$(a.target).parent();else var s=$(a.target);if(s.hasClass("install-module"))var o="install";else if(s.hasClass("uninstall-module"))var o="uninstall";else var o="extend";var n=$(".extend-module, .uninstall-module, .install-module"),e=s.data("lang-process");if(s.hasClass("disabled"))return!1;if("uninstall"==o){var d=this.uninstallDialog(s.data("modal-title"),s.data("modal-content"),s.data("modal-cancel"),s.data("modal-uninstall"));$("body").append(d),d.modal({show:!0}),d.on("click",".uninstall-confirm",l.bind(this))}else l()},Module.prototype.uninstallDialog=function(a,l,t,s){return $('<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+a+'</h4></div><div class="modal-body"><p>'+l+'</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">'+t+'</button><button type="button" class="btn btn-danger uninstall-confirm">'+s+"</button></div></div></div></div>")},$(function(){var a=$("#modules-table tbody tr");a.each(function(a,l){new Module(l)});var l=$(".reload-translations");l.on("click",function(a){if($(this).hasClass("disabled"))return!1;var l=$(this).data("lang-process");return $(this).addClass("disabled").html('<i class="fa fa-spin fa-spinner"></i> '+l),$.get("/mconsole/modules/reloadtrans",function(a){return location.reload()}),!1})});