var Module=function(l){this.module=l,$(this.module).on("click",".show-module-info",this.toggleInfo.bind(this)),$(this.module).on("click",".install-module",this.toggleModuleInstallation.bind(this)),$(this.module).on("click",".uninstall-module",this.toggleModuleInstallation.bind(this))};Module.prototype.toggleInfo=function(){var l=$(this.module).find(".module-info");l.hasClass("hide")?l.removeClass("hide"):l.addClass("hide")},Module.prototype.toggleModuleInstallation=function(){function l(){n&&(n.modal("hide"),setTimeout(1e3,n.remove));var l=a.html();o.addClass("disabled"),a.addClass("disabled").html('<i class="fa fa-spin fa-spinner"></i> '+s),$.get("/mconsole/modules/"+t+"/"+i,function(t){a.html(l),a.addClass("hide"),d.removeClass("hide"),o.removeClass("disabled")})}var t=$(this.module).data("identifier");if($(this.module).find(".uninstall-module").hasClass("hide"))var a=$(this.module).find(".install-module"),d=$(this.module).find(".uninstall-module"),i="install";else var a=$(this.module).find(".uninstall-module"),d=$(this.module).find(".install-module"),i="uninstall";var o=$(".extend-module, .uninstall-module, .install-module"),s=a.data("lang-process");if(a.hasClass("disabled"))return!1;if("uninstall"==i){var n=this.uninstallDialog(a.data("modal-title"),a.data("modal-content"),a.data("modal-cancel"),a.data("modal-uninstall"));$("body").append(n),n.modal({show:!0}),n.on("click",".uninstall-confirm",l.bind(this))}else l()},Module.prototype.uninstallDialog=function(l,t,a,d){return $('<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+l+'</h4></div><div class="modal-body"><p>'+t+'</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">'+a+'</button><button type="button" class="btn btn-danger uninstall-confirm">'+d+"</button></div></div></div></div>")},$(function(){var l=$("#modules-table tbody tr");l.each(function(l,t){new Module(t)})});