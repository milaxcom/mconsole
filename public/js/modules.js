var Module=function(l){this.module=l,$(this.module).on("click",".show-module-info",this.toggleInfo.bind(this)),$(this.module).on("click",".install-module",this.toggleModuleInstallation.bind(this)),$(this.module).on("click",".uninstall-module",this.toggleModuleInstallation.bind(this))};Module.prototype.toggleInfo=function(){var l=$(this.module).find(".module-info");l.hasClass("hide")?l.removeClass("hide"):l.addClass("hide")},Module.prototype.toggleModuleInstallation=function(){function l(){d&&(d.modal("hide"),setTimeout(1e3,d.remove));var l=t.html();t.addClass("disabled").html('<i class="fa fa-spin fa-spinner"></i> '+o),$.get("/mconsole/modules/"+i+"/"+a,function(i){t.html(l),t.removeClass("disabled"),t.addClass("hide"),s.removeClass("hide")})}var i=$(this.module).data("identifier");if($(this.module).find(".uninstall-module").hasClass("hide"))var t=$(this.module).find(".install-module"),s=$(this.module).find(".uninstall-module"),o="Installing..",a="install";else var t=$(this.module).find(".uninstall-module"),s=$(this.module).find(".install-module"),o="Uninstalling..",a="uninstall";if(t.hasClass("disabled"))return!1;if("uninstall"==a){var d=this.uninstallDialog();$("body").append(d),d.modal({show:!0}),d.on("click",".uninstall-confirm",l.bind(this))}else l()},Module.prototype.uninstallDialog=function(){return $('<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Uninstall this module?</h4></div><div class="modal-body"><p>This will also delete module data from database.</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button><button type="button" class="btn btn-danger uninstall-confirm">Uninstall</button></div></div></div></div>')},$(function(){var l=$("#modules-table tbody tr");l.each(function(l,i){new Module(i)})});